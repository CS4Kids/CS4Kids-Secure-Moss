namespace SpriteKind {
    export const barrier = SpriteKind.create()
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (game.askForNumber("", 3) != code) {
        game.showLongText("wrong passcode!", DialogLayout.Full)
    } else {
        animation.runImageAnimation(
        door,
        [img`
            . . . . . . 7 7 . . . . . . . . 
            . . . . . 7 7 7 7 7 7 7 7 . . . 
            . . . 7 7 . 7 7 7 7 . . . 7 7 7 
            . . . 7 . 7 . 7 . . 7 . . . . 7 
            . . 7 7 7 7 . 7 . . . 7 . . 7 7 
            . 7 7 . 7 . . . 7 . . . 7 7 7 . 
            . 7 . . 7 . . . 7 . . 7 7 7 . . 
            . 7 . . 7 . . 7 7 7 7 . . 7 7 . 
            7 7 7 7 7 7 7 . 7 7 . . . . 7 7 
            . 7 . . 7 . . . . 7 . . . 7 7 . 
            7 7 . . 7 . . . . 7 . . 7 7 . 7 
            7 7 . . 7 . . . . 7 7 7 . . 7 7 
            . 7 7 7 7 7 7 7 7 7 . 7 7 . 7 7 
            . 7 . . . . 7 . . . . 7 7 7 7 . 
            7 7 7 7 7 . 7 7 7 7 7 7 . . . . 
            . . . 7 7 7 7 . . . . . . . . . 
            `,img`
            . . . . . . 7 7 . . . . . . . . 
            . . . . . 7 7 7 7 . 7 7 . . . . 
            . . . . 7 7 . 7 7 7 . . 7 7 7 7 
            . . . 7 7 . 7 7 . 7 . . . 7 7 . 
            . . . 7 . . 7 . . . 7 7 7 . . . 
            . . 7 7 7 7 7 7 7 7 7 7 . . . 7 
            . 7 . . . 7 . . . . . 7 . . 7 . 
            . 7 7 . . 7 . . . . . . 7 7 . . 
            . . 7 7 7 7 . . . . 7 7 7 7 . . 
            . . . . . 7 7 7 7 7 7 . . 7 . . 
            . . . . . 7 . . . . . . . 7 . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . 7 . . . . 7 . . . . . 
            . . . . 7 7 . 7 . . . 7 7 . . . 
            . . . 7 7 7 . 7 . . . . 7 7 7 . 
            . . . 7 . 7 7 7 7 7 7 7 7 . 7 7 
            . . . . . . . . 7 . . . . . . 7 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `],
        500,
        false
        )
    }
})
let code = 0
let door: Sprite = null
let moss = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . 5 . . . . 5 . . 7 . 5 . . 
    . . . 7 . 7 . 5 7 . 7 5 . . . . 
    . 5 . 7 7 7 7 7 7 7 7 7 7 5 . . 
    . 7 7 7 7 5 7 7 7 5 7 . . . . . 
    . 5 . 5 7 7 . . 7 . 7 7 . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
moss.startEffect(effects.coolRadial)
door = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . 7 7 7 . . . . . . 
    . . . . . 7 7 7 . 7 7 7 . . . . 
    . . . 7 7 7 7 . 7 . 7 7 7 . . . 
    . . 7 7 . 7 . 7 7 7 . 7 7 7 7 7 
    . . 7 . . 7 . 7 . 7 7 . . 7 . 7 
    . 7 7 7 7 7 7 7 . . 7 . . 7 7 7 
    . 7 . . 7 . 7 7 7 7 7 7 7 7 7 7 
    . 7 7 7 7 . . 7 . 7 . 7 . . 7 7 
    7 7 . . 7 7 7 7 . 7 . 7 . . . 7 
    7 7 7 7 7 . . 7 . 7 . 7 7 7 7 7 
    7 . . 7 7 7 7 7 7 7 7 7 7 . . 7 
    7 . . 7 . . . 7 . . . 7 . . . 7 
    7 7 7 7 7 . 7 7 7 7 7 7 7 7 7 7 
    7 . . 7 . 7 7 7 7 7 7 7 7 . . 7 
    7 7 7 7 7 7 . . . . . . 7 7 7 7 
    `, SpriteKind.barrier)
door.changeScale(5, ScaleAnchor.Middle)
moss.changeScale(2, ScaleAnchor.Middle)
code = 222
